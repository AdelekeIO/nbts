--- compiler/checker.ts
+++ compiler/checker.ts
@@ -2184,6 +2184,13 @@
                         appendSymbolNameOnly(symbol, writer);
                     }
                     parentSymbol = symbol;
+
+                    // nbts: Parent may actually be an alias to a class/interface, not a
+                    // class/interface itself (TS issue #5464)
+                    if ((parentSymbol.flags & (SymbolFlags.Alias | SymbolFlags.Class | SymbolFlags.Interface))
+                            === SymbolFlags.Alias) {
+                        parentSymbol = resolveAlias(parentSymbol);
+                    }
                 }
 
                 // Let the writer know we just wrote out a symbol.  The declaration emitter writer uses
--- services/completions.ts
+++ services/completions.ts
@@ -110,6 +110,7 @@
                 kind: SymbolDisplay.getSymbolKind(typeChecker, symbol, location),
                 kindModifiers: SymbolDisplay.getSymbolModifiers(symbol),
                 sortText: "0",
+                type: typeChecker.typeToString(typeChecker.getTypeOfSymbolAtLocation(symbol, location))
             };
 
         }
--- services/goToDefinition.ts
+++ services/goToDefinition.ts
@@ -84,7 +84,9 @@
             const shorthandSymbolName = typeChecker.symbolToString(shorthandSymbol);
             const shorthandContainerName = typeChecker.symbolToString(symbol.parent, node);
             return map(shorthandDeclarations,
-                declaration => createDefinitionInfo(declaration, shorthandSymbolKind, shorthandSymbolName, shorthandContainerName));
+                // netbeanstypescript edit - node kind is more useful to distinguish the decls
+                //declaration => createDefinitionInfo(declaration, shorthandSymbolKind, shorthandSymbolName, shorthandContainerName));
+                declaration => createDefinitionInfo(declaration, getNodeKind(declaration), shorthandSymbolName, shorthandContainerName));
         }
 
         return getDefinitionFromSymbol(typeChecker, symbol, node);
@@ -133,7 +135,9 @@
             !tryAddCallSignature(symbol, node, symbolKind, symbolName, containerName, result)) {
             // Just add all the declarations.
             forEach(declarations, declaration => {
-                result.push(createDefinitionInfo(declaration, symbolKind, symbolName, containerName));
+                // netbeanstypescript edit - node kind is more useful to distinguish the decls
+                //result.push(createDefinitionInfo(declaration, symbolKind, symbolName, containerName));
+                result.push(createDefinitionInfo(declaration, getNodeKind(declaration), symbolName, containerName));
             });
         }
 
--- services/types.ts
+++ services/types.ts
@@ -560,6 +560,7 @@
         kind: string;            // see ScriptElementKind
         kindModifiers: string;   // see ScriptElementKindModifier, comma separated
         sortText: string;
+        type?: string;
         /**
           * An optional span that indicates the text to be replaced by this completion item. It will be
           * set if the required span differs from the one generated by the default replacement behavior and should
